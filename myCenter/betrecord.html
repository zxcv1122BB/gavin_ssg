<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <title>投注记录</title>
    <link rel="stylesheet" type="text/css" href="css/betrecord.css"/>
    <script type="text/javascript" src="../public/js/base.js"></script>
</head>

<body>
<div>
    <script src="../public/js/header.js"></script>
    <section id="main">
        <div class="wrapper">
            <div id="mainContent" class="clearfix">
                <!--左边导航-->
                <nav class="left">
                        <div class="member">
                            <ul>
                                <blockquote class="layui-elem-quote"><span class="iconfont">&#xe643;</span>{{i18n.t('会员中心')}}</blockquote>
                                <li>
                                    <a href="/myCenter/member.html">{{i18n.t('会员中心')}}</a>
                                </li>
                                <li class="on">
                                    <a href="/myCenter/betrecord.html">{{i18n.t('投注记录')}}</a>
                                    <div class="hr"></div>
                                </li>
                                <li>
                                    <a href="/myCenter/lotteryrecord.html">{{i18n.t('中奖记录')}}</a>
                                    <div class="hr"></div>
                                </li>
                                <li>
                                    <a href="/myCenter/accountDetails.html">{{i18n.t('账号明细')}}</a>
                                    <div class="hr"></div>
                                </li>
                                <li>
                                    <a href="/myCenter/userInfo.html">{{i18n.t('账号信息')}}</a>
                                    <div class="hr"></div>
                                </li>
                                <li>
                                    <a href="/myCenter/recharge.html">{{i18n.t('充值')}}</a>
                                    <div class="hr"></div>
                                </li>
                                <li v-if="agencyType!=6">
                                    <a href="/myCenter/draw.html">{{i18n.t('提款')}}</a>
                                    <div class="hr"></div>
                                </li>
                                <li>
                                    <a href="/myCenter/message.html">{{i18n.t('消息中心')}}</a>
                                    <div class="hr"></div>
                                </li>
                    
                            </ul>
                        </div>
                        <div class="agency" v-if="agencyType==1" v-cloak>
                            <ul>
                                <blockquote class="layui-elem-quote"><span class="iconfont">&#xe65a;</span>{{i18n.t('代理中心')}}</blockquote>
                                <li>
                                    <a href="/agency/agentIntro.html">{{i18n.t('代理说明')}}</a>
                                    <div class="hr"></div>
                                </li>
                                <li>
                                    <a href="/agency/agentReport.html">{{i18n.t('代理报表')}}</a>
                                    <div class="hr"></div>
                                </li>
                                <li>
                                    <a href="/agency/lowerReport.html">{{i18n.t('下级报表')}}</a>
                                    <div class="hr"></div>
                                </li>
                                <li>
                                    <a href="/agency/downAccount.html">{{i18n.t('下级开户')}}</a>
                                    <div class="hr"></div>
                                </li>
                                <li>
                                    <a href="/agency/agentMember.html">{{i18n.t('会员管理')}}</a>
                                    <div class="hr"></div>
                                </li>
                                <li>
                                    <a href="/agency/agencyBetDetail.html">{{i18n.t('投注说明')}}</a>
                                    <div class="hr"></div>
                                </li>
                                <li>
                                    <a href="/agency/agencyDealDetail.html">{{i18n.t('交易明细')}}</a>
                                    <div class="hr"></div>
                                </li>
                            </ul>
                        </div>
                    
                    </nav>
                <!--右边主体内容-->
                <div class="right">
                    <!--顶部用户信息-->
                    <div id="top">
                        <div>
                            <div class="welcome">{{i18n.t('您好')}}：<strong class="userName red"
                                                            id="userName"> </strong>&nbsp;{{i18n.t('账号余额')}}：<span
                                    class="red coin" id="coin11">0.00</span>{{coinUnit}}<span class="btn recharge"><a
                                    href="recharge.html">{{i18n.t('充值')}}</a></span><span class="btn withdrawal" v-if="agencyType!=6"><a
                                    href="draw.html">{{i18n.t('提款')}}</a></span></div>
                            <nav class="topNav"><span class="active" id="choose_0" data-index="0"
                                                      @click="choose_nav(0)">{{i18n.t('全部投注')}}</span><span
                                    data-index="1" id="choose_1" @click="choose_nav(1)">{{i18n.t('我的撤单')}}</span></nav>
                            <section id="record">
                                <div id="all">
                                    <div class="condition row">
                                        <div class="allType col">
                                        <span id="allType" class="type" @click="openType($event,1)"
                                              @mouseout="openType($event,3)" v-cloak>{{typeContent}}
                                            <b></b>
                                        </span>
                                            <ul class="typeContent hide" @mouseover="hoverTypeUl($event,1)"
                                                @mouseout="hoverTypeUl($event,2)">
                                                <li v-for="(item,index) in allTypeContent" :value="item.gameId"
                                                    @click="getCondition(0,index,$event,item.gameId)" v-cloak>{{item.gameName}}
                                                </li>
                                            </ul>
                                        </div>
                                        <div class="allState col">
                                        <span id="allState" class="type" @click="openType($event,1)"
                                              @mouseout="openType($event,3)" v-cloak>{{stateContent}}
                                            <b></b>
                                        </span>
                                            <ul class="typeContent hide" @mouseover="hoverTypeUl($event,1)"
                                                @mouseout="hoverTypeUl($event,2)">
                                                <li v-for="(item,index) in allStateContent" :value="index"
                                                    @click="getCondition(1,index,$event)" v-cloak>{{item}}
                                                </li>
                                            </ul>
                                        </div>
                                        <div class="col">
                                        <span id="changeDate" class="type" @click="openType($event,1)"
                                              @mouseout="openType($event,3)" v-cloak>{{dateContent}}
                                            <b></b>
                                        </span>
                                            <ul class="typeContent hide" @mouseover="hoverTypeUl($event,1)"
                                                @mouseout="hoverTypeUl($event,2)">
                                                <li v-for="(item,index) in changeDateContent" :value="index"
                                                    @click="getCondition(2,index,$event)" v-cloak>{{item}}
                                                </li>
                                            </ul>
                                        </div>
                                        <!--<div class="col" id="time" v-cloak>
                                            <label><b></b><input type="text" id="startTime" v-model="startTime" readonly
                                                                 placeholder="开始时间"/></label>&nbsp;至&nbsp;
                                            <label><b></b><input type="text" id="endTime" v-model="endTime" readonly
                                                                 placeholder="结束时间"/></label>&nbsp;
                                            <span class="btn" id="select" @click="getdatas(1)">{{i18n.t('查询')}}</span>
                                        </div>-->
                                    </div>
                                    <!--<div class="detail_explain">
                                        <ul>
                                            <li>彩种：<span id="lotNames">{{i18n.t('所有彩种')}}</span>&nbsp;&nbsp;报表日期：<span id="orderBetListBetween">2017-11-08——2017-11-08</span></li>
                                            <li>贴心小提醒：点击注单号能查询详细投注明细,标明“
                                                <font color="red">{{i18n.t('合')}}</font>”属于合买订单，标明“
                                                <font color="red">{{i18n.t('追')}}</font>”属于追号订单</li>
                                        </ul>
                                    </div>-->
                                    <div class="mainList">
                                        <table class="layui-table" lay-even="" lay-skin="nob" style="border: none;"
                                               width="100%" cellspacing="0" cellpadding="0" border="0">
                                            <thead>
                                            <tr class="title">
                                                <td>{{i18n.t('订单号')}}</td>
                                                <td>{{i18n.t('期号')}}</td>
                                                <td>{{i18n.t('投注日期')}}</td>
                                                <td>{{i18n.t('彩种')}}</td>
                                                <td>{{i18n.t('玩法')}}</td>
                                                <td>{{i18n.t('投注金额')}}</td>
                                                <td>{{i18n.t('中奖金额')}}</td>
                                                <td>{{i18n.t('状态')}}</td>
                                                <td>{{i18n.t('查看')}}</td>
                                                <td>{{i18n.t('撤单')}}</td>
                                            </tr>
                                            </thead>
                                            <tbody id="betResultOrder" v-cloak>
                                            <tr>
                                                <td colspan="10" class="nodate" height="150" style="text-align: center;">{{i18n.t('暂无数据')}}，
                                                    <a href="/lothall.html">{{i18n.t('立即购彩')}}</a>
                                                </td>
                                            </tr>
                                            </tbody>
                                            <tbody id="showBetRecord">
                                            <tr v-for="item in arrs" v-cloak>
                                                <td><span @click="selectHH(item.betId,item.type)" id="orderId" v-cloak>{{item.orderId}}</span>
                                                </td>
                                                <td v-cloak>{{item.actionIssue}}</td>
                                                <td v-cloak>{{item.sourceTime}}</td>
                                                <td v-cloak>{{item.gameName}}</td>
                                                <td v-cloak>{{item.groupName}}<span v-if="item.type>4">-{{item.playedName}}</span></td>
                                                <td v-cloak>{{item.amount}}{{coinUnit}}</td>
                                                <td v-cloak><font color="red" v-if="item.status=='已中奖'" v-cloak>{{item.bonus}}<span v-if="item.type!=2">{{coinUnit}}</span></font>
                                                    <span v-else-if="item.status=='未中奖'" style="color: green;">{{i18n.t('未中奖')}}</span>
                                                    <span v-else-if="item.bonus=='待开奖'">{{item.bonus}}</span>
                                                    <span v-else v-cloak>{{item.bonus}}</span></td>
                                                <td v-cloak>{{item.status}}</td>
                                                <td v-cloak><button class="layui-btn layui-btn-mini" @click="selectHH(item.betId,item.type)">{{i18n.t('查看')}}</button></td>
                                                <td><button class="layui-btn-disabled layui-btn-mini" v-if="item.status!=='成功'" style="width: 36px;">{{i18n.t('撤单')}}</button><button class="layui-btn layui-btn-mini" @click="cancleOrd(item.betId)" v-else>{{i18n.t('撤单')}}</button></td>
                                            </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                    <div id="fenye"></div>
                                </div>


                                <div id="Revoke">
                                </div>
                            </section>
                        </div>
                        <div class="clear"></div>
                    </div>
                </div>
            </div>
        </div>
        <!--订单详情列表-->
        <transition name="transition">
            <div id="ordersOne">
                <div class="concealDivOrders ordersOne" style="display: none;">
                    <table class="layui-table" lay-skin="nob">
                        <tr>
                            <td colspan="4"
                                style="background-color: white;text-align: left;padding-left: 18px;font-weight: bold;">{{i18n.t('订单详情')}}
                            </td>
                        </tr>
                        <tr>
                            <td>{{i18n.t('订单号')}}:</td>
                            <td v-cloak>{{orders.orderId}}</td>
                            <td>{{i18n.t('出票状态')}}:</td>
                            <td v-cloak>{{orders.ticketStatus==0?"出票中":"出票成功"}}</td>
                        </tr>
                        <tr  style="border-bottom: 1px #E0E0E0 solid;">
                            <td><span v-if="orders.type==2">{{i18n.t('时间')}}:</span><span v-else>{{i18n.t('预计奖金')}}:</span></td>
                            <td v-cloak>
                                <span v-if="orders.type==2">{{orders.sourceTime}}</span>
                                <span v-else>{{orders.expectBonuses}}{{coinUnit}}</span>
                            </td>
                            <td><span v-if="orders.show==true">{{i18n.t('期号')}}:</span>
                                <span v-else>{{i18n.t('投注方式')}}:</span>
                            </td>
                            <td>
                                <span v-if="orders.show==true" v-cloak>{{orders.actionNo}}</span>
                                <span v-else v-cloak>{{orders.betType}}</span>
                            </td>
                        </tr>
                        <tr>
                            <td colspan="2"
                                style="background-color: white;text-align: left;padding-left: 18px;font-weight: bold;">{{i18n.t('投注详情')}}
                            </td>
                            <td colspan="2" style="text-align: right;padding-right: 16px;text-decoration: underline;color: gray;cursor: pointer;" @click="getTicket(orders.betId,orders.type)">
                                {{i18n.t('出票明细')}}
                            </td>
                        </tr>
                        <tbody v-for="item in ordersById" style="border-bottom: 1px #E0E0E0 solid;">
                        <tr>
                            <td>{{i18n.t('投注项')}}:</td>
                            <td v-cloak>
                                {{item.homeTeamName}}　vs　{{item.awayTeamName}} <span v-if="item.guts==1"
                                                                                    class="isDan">{{i18n.t('胆')}}</span>
                            </td>
                            <td>{{i18n.t('竞猜项')}}:</td>
                            <td>
                                <span v-if='item.guessList&&item.guessList.length>0' v-cloak>
                                    <span v-for="gus in item.guessList"  style="margin-right: 5px;display: inline-block;" >
                                        <span style="color: red;" v-if="gus.quizResults==1" v-cloak>{{gus.quizName}}{{gus.letScore}}<span
                                            v-if="!orders.show&&gus.odds" v-cloak>({{gus.odds}})</span></span>
                                        <span v-else v-cloak>{{gus.quizName}}{{gus.letScore}}<span v-if="!orders.show&&gus.odds" v-cloak>({{gus.odds}})</span></span>
                                    </span>
                                    
                                </span>
                                <span v-else>--</span>
                            </td>
                        </tr>
                        <tr>
                            <td>{{i18n.t('比分')}}:</td>
                            <td><span v-if="item.courtScore!=null" v-cloak>{{item.courtScore}}</span><span v-else>--</span></td>
                            <td>{{i18n.t('赛果')}}:</td>
                            <td>
                                <span v-if='item.resultList&&item.resultList.length>0' v-cloak>
                                    <span v-for="res in item.resultList"  style="margin-right: 5px;display: inline-block;" >
                                        <span style="color: red;" v-if="res.quizResults==1" v-cloak>{{res.quizName}}</span>
                                        <span v-else v-cloak>{{res.quizName}}</span>
                                    </span>
                                </span>
                                <span v-else>--</span>
                            </td>
                        </tr>
                        </tbody>
                    </table>
                </div>    
            </div>
            
        </transition>
        <!--出票明细-->
        <transition>
        	<div class="ticket" style="display: none;">
        		<section id="ticketDetailsStr" v-if="nowType==2">
					<table  class="layui-table" lay-skin="nob">
						<tr>
							<td v-for="item in ticketDetailsStr" v-cloak>
								{{item}}
							</td>
						</tr>
					</table>
				</section>
				<section id="ticDetails" v-else>
					<table  class="layui-table" lay-skin="nob">
						<thead>
							<tr>
								<th width="15%">{{i18n.t('过关')}}</th>
								<th width="15%">{{i18n.t('倍数')}}</th>
								<th width="70%">{{i18n.t('票面信息')}}</th>
							</tr>
						</thead>
						<tbody>
							<tr v-for="(item,index) in ticketDetailsList">
								<td v-cloak>{{item.seriesName}}</td>
								<td v-cloak>{{item.times}}倍</td>
								<td v-cloak>
									<span v-for="items in ticketDetailsList[index].list" v-cloak class="list">
										<em class="fenge">/</em>{{items.matchDate}}<span v-if="items.matchSessions!=null" v-cloak>({{items.matchSessions}})</span>
										<span v-if="items.quizOptions!=null" v-cloak>:[{{items.quizOptions}}<span v-if="items.odds!=null" v-cloak>={{items.odds}}</span>]</span>
									</span>
								</td>
							</tr>
						</tbody>
						
					</table>
				</section>
        	</div>
        </transition>
        <!--彩票订单详情列表-->
        <transition name="transition">
            <div class="concealDivOrders ordersTwo" style="display: none;">
                <table class="layui-table" lay-skin="nob" style="word-wrap: break-word; word-break: break-all;">
                    <tr>
                        <td colspan="4"
                            style="background-color: white;text-align: left;padding-left: 18px;font-weight: bold;">{{i18n.t('订单详情')}}
                        </td>
                    </tr>
                    <tr>
                        <td>{{i18n.t('订单号')}}:</td>
                        <td v-cloak>{{ordersTwo.orderId}}</td>
                        <td>{{i18n.t('彩种')}}:</td>
                        <td v-cloak>{{ordersTwo.gameName}}</td>
                        
                    </tr>
                    <tr style="border-bottom: 1px #E0E0E0 solid;">
                        <td>{{i18n.t('投注时间')}}:</td>
                        <td v-cloak>{{ordersTwo.actionTime}}</td>
                        <td  v-if="ordersTwo.gameType==1">{{i18n.t('期号')}}:</td>
                        <td  v-if="ordersTwo.gameType==1">{{ordersTwo.actionIssue}}</td>
                    </tr>
                    <tr>
                        <td colspan="4"
                            style="background-color: white;text-align: left;padding-left: 18px;font-weight: bold;">{{i18n.t('投注详情')}}
                        </td>
                    </tr>
                    <tbody  style="border-bottom: 1px #E0E0E0 solid;">
                            <tr v-if="ordersTwo.gameType==2">
                                    <td>{{i18n.t('投注金额')}}:</td>
                                    <td>{{ordersTwo.amount}}{{coinUnit}}</td>
                                    <td>{{i18n.t('中奖金额')}}:</td>
                                    <td>
                                        <span v-if="ordersTwo.isCal==0">{{i18n.t('未开奖')}}</span>
                                        <span v-else-if="ordersTwo.isCal==1&&ordersTwo.status==0" style="color: green;">{{i18n.t('未中奖')}}</span>
                                        <span v-else-if="ordersTwo.isCal==1&&ordersTwo.status==1" style="color: red;">{{ordersTwo.bonus}}{{coinUnit}}</span>
                                        
                                    </td>
                                </tr>
                    <tr>
                        <td v-if="ordersTwo.gameType!=2">{{i18n.t('投注号码')}}:</td>
                        <td  v-if="ordersTwo.gameType!=2" v-cloak>
                        	<div>{{ordersTwo.actionData}}
                        	</div>
                        </td>
                        <td v-if="ordersTwo.gameType!=2">{{i18n.t('开奖号码')}}:</td>
                        <td>{{ordersTwo.openNo}}
                        </td>
                    </tr>
                    <tr v-if="ordersTwo.gameType==1">
                        <td>{{i18n.t('投注金额')}}:</td>
                        <td>{{ordersTwo.amount}}{{coinUnit}}</td>
                        <td>{{i18n.t('中奖金额')}}:</td>
                        <td>
                        	<span v-if="ordersTwo.isCal==0">{{i18n.t('未开奖')}}</span>
                        	<span v-else-if="ordersTwo.isCal==1&&ordersTwo.status==0" style="color: green;">{{i18n.t('未中奖')}}</span>
                        	<span v-else-if="ordersTwo.isCal==1&&ordersTwo.status==1" style="color: red;">{{ordersTwo.bonus}}{{coinUnit}}</span>
                        	
                        </td>
                    </tr>
                    <tr v-if="ordersTwo.gameType!=2">
                        <td>{{i18n.t('投注赔率')}}:</td>
                        <td>{{ordersTwo.betOdds}}{{i18n.t('倍')}}</td>
                        <td v-if='ordersTwo.isCal==0&&ordersTwo.expect_open'>{{i18n.t('预计开奖时间')}}</td>
                        <td v-if='ordersTwo.isCal==0&&ordersTwo.expect_open'>{{ordersTwo.expect_open}}</td>
                    </tr>
                    </tbody>
                </table>
            </div>
        </transition>
    </section>
    <script src="../public/js/footer.js"></script>
</div>

<script type="text/javascript" src="../public/js/jqPaginator.js"></script>
<script src="js/betrecord.js"></script>
</body>

</html>